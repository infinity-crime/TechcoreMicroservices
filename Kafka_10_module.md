"”мный брокер" (RabbitMQ)
ƒл€ начала определим, что делает брокера "умным". „тобы быть таким, брокер должен отслеживать, какие сообщени€ доставлены,
какие в процессе, а какие подтверждены/прочитаны.
“акже должна быть прокачанна€ маршрутизаци€ через обменники, которые будут определ€ть тип этой самой маршрутизации.
Ќе обойтись также без балансировки нагрузки. ¬едь нам нужно распредел€ть сообщени€ между потребител€ми.
ƒополнительно "умный" брокер должен давать гарантии на доставку (управл€ть повторными отправками, создавать дополнительные
очереди сообщений, если что-то пошло не так, ведь неудачные сообщени€ будут загружать очередь).


"√лупый" брокер/"умный" клиент (Kafka)
„то же делает брокера "глупым"? ƒостаточно хранить данные так, как будто мы обычна€ файлова€ система.
»меть необходимую минимальную IO-логику.
ќтслеживать состо€ние потребителей нам также не надо (не знаем, кто прочитал). ј также не заниматьс€ повторной доставкой.

„то касаетс€ "умного" клиента, то он сам управл€ет: позицией чтени€, балансировкой партиций, повторной сборкой, семантикой
доставки.

“ут напрашиваетс€ сравнение: RabbitMQ как ресторан с официантом (он знает кто что заказал и кто получил еду); Kafka как
шведский стол (клиент сам решает что ему брать и в каком пор€дке).